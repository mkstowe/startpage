<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&amp;display=swap"
      rel="stylesheet"
    />
    <title>Startpage</title>
  </head>

  <body>
    <div class="wrapper">
      <div class="bg"></div>
      <div class="maincard">
        <div class="content">
          <div class="image">
            <img src="images/gif.gif" alt="No image" />
          </div>
          <div id="links" class="links">
            <section>
              <h3>Daily</h3>
              <ul>
                <li>
                  <a target="_blank" href="https://www.gmail.com/">Gmail</a>
                </li>
                <li><a target="_blank" href="https://reddit.com">Reddit</a></li>
                <li>
                  <a target="_blank" href="https://github.com/mkstowe"
                    >GitHub</a
                  >
                </li>
                <li><a target="_blank" href="localhost:4200">localhost</a></li>
              </ul>
            </section>
            <section>
              <h3>Services</h3>
              <ul>
                <li>
                  <a target="_blank" href="https://dash.mkstowe.com"
                    >Dashboard</a
                  >
                </li>
                <li>
                  <a target="_blank" href="https://hass.mkstowe.com"
                    >Home Assistant</a
                  >
                </li>
                <li>
                  <a target="_blank" href="https://portainer.mkstowe.com"
                    >Portainer</a
                  >
                </li>
                <li>
                  <a target="_blank" href="https://foundry.mkstowe.com"
                    >Foundry</a
                  >
                </li>
              </ul>
            </section>
            <section>
              <h3>Tools</h3>
              <ul>
                <li>
                  <a
                    target="_blank"
                    href="https://app.ynab.com/14dc5930-30fc-4d37-b7a1-6634ed695a77/budget"
                    >YNAB</a
                  >
                </li>
                <li>
                  <a
                    target="_blank"
                    href="https://www.imdb.com/user/ur54711136/watchlist?sort=list_order%2Cdesc&view=detail"
                    >IMDb</a
                  >
                </li>
                <li>
                  <a
                    target="_blank"
                    href="https://reelgood.com/userlist/want-to-see"
                    >ReelGood</a
                  >
                </li>
                <li>
                  <a
                    target="_blank"
                    href="https://www.discogs.com/user/mkstowe/collection"
                    >Discogs</a
                  >
                </li>
              </ul>
            </section>
            <section>
              <h3>Finance</h3>
              <ul>
                <li>
                  <a target="_blank" href="https://secure.ally.com/">Ally</a>
                </li>
                <li>
                  <a target="_blank" href="https://www.americanexpress.com/"
                    >AmEx</a
                  >
                </li>
                <li>
                  <a
                    target="_blank"
                    href="https://secure01a.chase.com/web/auth/dashboard#/dashboard/overviewAccounts/overview/singleCard"
                    >Chase</a
                  >
                </li>
                <li>
                  <a
                    target="_blank"
                    href="https://connect.secure.wellsfargo.com/auth/logout"
                    >Wells Fargo</a
                  >
                </li>
              </ul>
            </section>
          </div>
        </div>
        <div class="search">
          <form onsubmit="return search()">
            <label for="search_box" autofocus>> find / </label>
            <input
              type="text"
              placeholder="Type Here"
              name="search_box"
              id="search_box"
              autocomplete="off"
              autofocus
            />
          </form>
        </div>
      </div>
    </div>
  </body>
  <script>
    const search_url = "https://google.com/search?q=";

    function search() {
      const is_url =
        /^(((http)|(https)):\/\/)?(www\.)?[a-zA-Z0-9]+\.[a-zA-Z]+\/?([a-zA-Z0-9/?=&%-_]+)?$/;
      const is_ip =
        /^(((http)|(https)):\/\/)?([0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}|localhost)(:[0-9]{1,5})?(\/[a-zA-Z0-9/?=&%-_]+)?$/;

      const search_term = document.getElementById("search_box").value;
      const url_match = search_term.match(is_url);
      const ip_match = search_term.match(is_ip);
      if (url_match != null) {
        window.open(
          url_match[0].substring(0, 4) == "http"
            ? url_match[0]
            : "https://" + url_match[0],
          "_blank",
        );
      } else if (ip_match != null) {
        window.open(
          ip_match[0].substring(0, 4) == "http"
            ? ip_match[0]
            : "http://" + ip_match[0],
          "_blank",
        );
      } else {
        window.open(search_url + encodeURIComponent(search_term), "_blank");
      }

      return false;
    }
  </script>
</html>
